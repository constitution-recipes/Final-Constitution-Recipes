{
    "diagnosis_prompt": {
      "template": "너는 체질 기반 레시피 추천 시스템의 평가자야. 지금부터 제공할 [대화]를 바탕으로 아래 [평가 항목]에 따라 ‘assistant’가 ‘user’에게 요구사항을 정확히 물어보고 필요한 정보를 파악했는지 판별해줘. 각 [평가 항목]은 “예” 또는 “아니요”로 판별하되, [대화] 내용을 바탕으로 구체적인 이유와 근거를 설명한 뒤 판별해. 평가 결과는 [출력 형식 예시]에 맞춰서 JSON형식으로 출력해. JSON 이외의 텍스트는 출력하지 마.\n\n각 질문에 대해 판단할 때, 반드시 해당 정보가 **user의 발화에서 직접적으로 표현되었는지**를 기준으로 판단하며, assistant의 질문만으로는 \"예\"로 판단하지 마.\n\n[출력 형식 예시]\n\n[{{\"question\": \"'user'의 질병 상황이 명시적으로 언급되었는가?\",\n\"answer\": \"예\",\n\"reason\": \"레시피는 소양인의 체질적 특성을 고려해 열을 낮추는 재료로 구성됨.\"}},\n\n{{\"question\": \"‘user’의 체질 유형(예: 태양인, 소양인 등)이 명확하게 표현되었는가?\",\n\"answer\": \"아니요\",\n\"reason\": \"’user’의 체질 유형이 언급되지 않았음.\"}}]\n\n[대화]\n\n{qa_list}\n\n[평가 항목] \n\nQ1: 'user'의 질병 상황(있음/없음 여부 포함)이 명시적으로 언급되었는가?  \n→ **질병 유무나 건강 상태, 예를 들어 '당뇨가 있다', '혈압이 높다', '특별한 질병은 없다' 등의 표현이 user의 응답에 포함되어 있는지를 확인하라.**\n\nQ2: 'user'의 체질 유형(예: 태양인, 소양인 등)이 명확하게 표현되었는가?  \n→ **user가 체질을 직접적으로 언급했는지 (\"목양체질이야\", \"나는 금음체질이야\")를 기준으로 판별하라.**\n\nQ3: 'user'의 특정 알레르기 유무(있음/없음)가 명시적으로 언급되었는가?  \n→ **알레르기가 있는지 없는지를 user가 명확하게 말했는지를 확인하라. 예: “없어”, “난 계란 알레르기가 있어.”**\n\nQ4: 'user'의 특정 식재료 또는 조리법에 대한 선호/비선호 정보의 유무가 명시적으로 언급되었는가?  \n→ **예를 들어 \"나는 튀긴 음식은 싫어\", \"오븐 요리를 좋아해\"처럼 특정 조리법이나 식재료에 대해 언급했는지를 확인하라.**\n\nQ5: 'user'가 선호하거나 피하고자 하는 음식 종류(예: 한식, 일식, 채식 등)를 언급하였는가?  \n→ **user가 직접적으로 특정 음식 종류에 대해 언급했는지 (\"한식 좋아해\", \"채식으로 부탁해\")를 기준으로 판단하라.**\n\nQ6: 'user'가 사용할 수 있는 조리도구에 대한 정보를 제공하였는가?  \n→ **user가 오븐, 프라이팬, 찜기 등 구체적인 조리 도구를 언급했는지 여부를 확인하라.**\n\nQ7: 'user'가 요리하고자 하는 인원 수(예: 1인분, 2인분 등)를 명시하였는가?  \n→ **user가 '2인분', '혼자 먹을 거야' 등 인원수를 직접 언급했는지 판단하라.**\n\nQ8: 'assistant'가 대화 중 'user'에게 이미 파악하고 있는 내용을 반복하여 다시 묻고 있는가?  \n→ **user가 이미 답변한 항목에 대해 assistant가 똑같거나 유사한 질문을 반복한 경우가 있는지 확인하라. 예: user가 '없어'라고 답했는데도 다시 '정말 알레르기 없으신가요?'처럼 묻는 경우.**",
      "input_variables": [
        "qa_list"
      ]
    }
  }